Mar-22 13:00:37.534 [main] DEBUG nextflow.cli.Launcher - $> nextflow nf_workflow.nf
Mar-22 13:00:37.662 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.0
Mar-22 13:00:37.683 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/blancapueche/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.2,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.0
Mar-22 13:00:37.693 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Mar-22 13:00:37.694 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Mar-22 13:00:37.700 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Mar-22 13:00:37.714 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Mar-22 13:00:37.753 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/nextflow.config
Mar-22 13:00:37.754 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/nextflow.config
Mar-22 13:00:37.776 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Mar-22 13:00:38.431 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declararion
Mar-22 13:00:38.473 [main] INFO  nextflow.cli.CmdRun - Launching `nf_workflow.nf` [mighty_majorana] DSL2 - revision: 73540a8781
Mar-22 13:00:38.475 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Mar-22 13:00:38.476 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Mar-22 13:00:38.485 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/blancapueche/.nextflow/secrets/store.json
Mar-22 13:00:38.490 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@4613311f] - activable => nextflow.secret.LocalSecretsProvider@4613311f
Mar-22 13:00:38.562 [main] DEBUG nextflow.Session - Session UUID: 6a2f6bcb-ce85-4b62-8924-0370d2d09774
Mar-22 13:00:38.563 [main] DEBUG nextflow.Session - Run name: mighty_majorana
Mar-22 13:00:38.563 [main] DEBUG nextflow.Session - Executor pool size: 2
Mar-22 13:00:38.570 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Mar-22 13:00:38.574 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Mar-22 13:00:38.600 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.0 build 5889
  Created: 15-10-2023 15:07 UTC (17:07 CEST)
  System: Linux 6.5.0-18-generic
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 11.0.21+9-post-Ubuntu-0ubuntu122.04
  Encoding: UTF-8 (UTF-8)
  Process: 4693@Ubuntu22 [127.0.1.1]
  CPUs: 2 - Mem: 3 GB (302.8 MB) - Swap: 2.6 GB (2 GB)
Mar-22 13:00:38.621 [main] DEBUG nextflow.Session - Work-dir: /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/work [ext2/ext3]
Mar-22 13:00:38.639 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Mar-22 13:00:38.647 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Mar-22 13:00:38.670 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Mar-22 13:00:38.680 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 3; maxThreads: 1000
Mar-22 13:00:38.754 [main] DEBUG nextflow.Session - Session start
Mar-22 13:00:39.466 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Mar-22 13:00:39.611 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Mar-22 13:00:39.612 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Mar-22 13:00:39.618 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Mar-22 13:00:39.624 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=2; memory=3 GB; capacity=2; pollInterval=100ms; dumpInterval=5m
Mar-22 13:00:39.627 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Mar-22 13:00:39.765 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Mar-22 13:00:39.765 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Mar-22 13:00:39.788 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Mar-22 13:00:39.790 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Mar-22 13:00:39.799 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Mar-22 13:00:39.800 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Mar-22 13:00:39.808 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Mar-22 13:00:39.809 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Mar-22 13:00:39.815 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Mar-22 13:00:39.816 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Mar-22 13:00:39.838 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Mar-22 13:00:39.840 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Mar-22 13:00:39.865 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: write_description, reformat_quant_table, run_qiime2, filter_networking_edges, tsv_merger, merge_tsv_files_efficient, add_mshub_balanced_score, clusterinfosummary_creation, filter_gc_identifications, gnps_library_annotations, prep_molecular_networking_parameters, convert_networks_to_graphml, main_execmoduleParallel, calculate_kovats
Mar-22 13:00:39.866 [main] DEBUG nextflow.Session - Igniting dataflow network (12)
Mar-22 13:00:39.887 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > reformat_quant_table
Mar-22 13:00:39.890 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > main_execmoduleParallel
Mar-22 13:00:39.895 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > tsv_merger
Mar-22 13:00:39.898 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > gnps_library_annotations
Mar-22 13:00:39.904 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > filter_gc_identifications
Mar-22 13:00:39.906 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > prep_molecular_networking_parameters
Mar-22 13:00:39.910 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > clusterinfosummary_creation
Mar-22 13:00:39.915 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_2d2058ce7548f744: /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/nf_workflow.nf
Mar-22 13:00:39.918 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Mar-22 13:00:39.923 [main] DEBUG nextflow.Session - Session await
Mar-22 13:00:40.183 [Actor Thread 10] DEBUG nextflow.conda.CondaCache - mamba found local env for environment=/home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/bin/conda_env.yml; path=/home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/work/conda/gc-molecular-library-search-47b1980fe11deb14fb4149c45b7998b1
Mar-22 13:00:40.268 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Mar-22 13:00:40.270 [Task submitter] INFO  nextflow.Session - [53/303813] Submitted process > main_execmoduleParallel (1)
Mar-22 13:00:40.283 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Mar-22 13:00:40.418 [Task submitter] INFO  nextflow.Session - [60/fbe931] Submitted process > reformat_quant_table (1)
Mar-22 13:00:41.949 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: reformat_quant_table (1); status: COMPLETED; exit: 0; error: -; workDir: /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/work/60/fbe93109fe36d7398466746383896e]
Mar-22 13:00:41.952 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Mar-22 13:00:41.953 [Task submitter] INFO  nextflow.Session - [97/dc5c4e] Submitted process > prep_molecular_networking_parameters (1)
Mar-22 13:00:41.978 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Mar-22 13:00:43.630 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: prep_molecular_networking_parameters (1); status: COMPLETED; exit: 0; error: -; workDir: /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/work/97/dc5c4e195e42a528d11b416aec1f9c]
Mar-22 13:00:43.642 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Mar-22 13:00:43.643 [Task submitter] INFO  nextflow.Session - [53/9c2162] Submitted process > clusterinfosummary_creation (1)
Mar-22 13:00:45.548 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: clusterinfosummary_creation (1); status: COMPLETED; exit: 1; error: -; workDir: /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/work/53/9c2162030802629af4e8f7416c4ae5]
Mar-22 13:00:45.555 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=clusterinfosummary_creation (1); work-dir=/home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/work/53/9c2162030802629af4e8f7416c4ae5
  error [nextflow.exception.ProcessFailedException]: Process `clusterinfosummary_creation (1)` terminated with an error exit status (1)
Mar-22 13:00:45.575 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'clusterinfosummary_creation (1)'

Caused by:
  Process `clusterinfosummary_creation (1)` terminated with an error exit status (1)

Command executed:

  python /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/bin/clusterinfosummary_for_featurenetworks.py     parametersINI.params quant_table-main.csv spectra_reformatted.mgf     clusterinfo_summary.tsv

Command exit status:
  1

Command output:
  no pyteomics
  no pyteomics

Command error:
  no pyteomics
  no pyteomics
  Traceback (most recent call last):
    File "/home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/bin/clusterinfosummary_for_featurenetworks.py", line 278, in <module>
      main()
    File "/home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/bin/clusterinfosummary_for_featurenetworks.py", line 274, in main
      process(args.params_xml, args.consensus_feature_file, args.mgf_filename, args.output_clusterinfo_summary)
    File "/home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/bin/clusterinfosummary_for_featurenetworks.py", line 125, in process
      task_id = param_obj["task"][0]
  KeyError: 'task'

Work dir:
  /home/blancapueche/Desktop/Repositorios/molecular-librarysearch-gc_workflow/work/53/9c2162030802629af4e8f7416c4ae5

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Mar-22 13:00:45.583 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `clusterinfosummary_creation (1)` terminated with an error exit status (1)
Mar-22 13:00:45.624 [Task monitor] DEBUG nextflow.Session - The following nodes are still active:
[process] tsv_merger
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: intermediate_result
  port 1: (cntrl) -     ; channel: $

[process] gnps_library_annotations
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: result
  port 1: (cntrl) -     ; channel: $

[process] filter_gc_identifications
  status=ACTIVE
  port 0: (queue) OPEN  ; channel: db_result
  port 1: (cntrl) -     ; channel: $

Mar-22 13:00:45.626 [main] DEBUG nextflow.Session - Session await > all processes finished
Mar-22 13:00:45.627 [main] DEBUG nextflow.Session - Session await > all barriers passed
Mar-22 13:00:45.658 [main] WARN  n.processor.TaskPollingMonitor - Killing running tasks (1)
Mar-22 13:00:45.659 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Mar-22 13:00:45.692 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=2; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=1; succeedDuration=3s; failedDuration=1.8s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=2; peakCpus=2; peakMemory=0; ]
Mar-22 13:00:45.866 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Mar-22 13:00:45.889 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
